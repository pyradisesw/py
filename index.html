<!-- This snippet uses Font Awesome 5 Free as a dependency. You can download it at fontawesome.io! -->
<head>
  
  <link rel="stylesheet" type="text/css" href="bootstrap/bootstrap-4.4.1-dist/js/bootstrap.bundle.min.js">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="fontawesome/css/all.min.css">
  <link rel="stylesheet" href="css/templatemo-style.css">
</head>
    <title>Pyradise - Log In </title>

<body>
	
  <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-app.js"></script>

  <!-- Add Firebase products that you want to use -->
  <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-firestore.js"></script>

  <a id="home" href="home.html"></a>
  	<button onclick="doGoogle()">Change link</button>
	
	

  <!-- Previously loaded Firebase SDKs -->

  <!-- Initialize Firebase -->
	
	<script>
	  // Your web app's Firebase configuration
	  var firebaseConfig = {
	    apiKey: "AIzaSyCtZ-9WQyxVF2D0Naf6c6_LQwUPGq1goJc",
	    authDomain: "pyradise-e0e9f.firebaseapp.com",
	    projectId: "pyradise-e0e9f",
	    storageBucket: "pyradise-e0e9f.appspot.com",
	    messagingSenderId: "36758105370",
	    appId: "1:36758105370:web:b1e43961f83406afa810a3"
	  };
	  // Initialize Firebase
	  firebase.initializeApp(firebaseConfig);
	</script>
	<script>
		function doGoogle()
		{
			 
		     // Google provider object is created here. 
		    const googleAuth =  
			  new firebase.auth.GoogleAuthProvider(); 

		    // using the object we will authenticate the user. 
		    firebase.auth().signInWithPopup(googleAuth)
			.then((user) => {
			    // Signed in 
			    // ...
				 document.getElementById("home").href="home.hmtl";
				
				 
			  })
			  .catch((error) => {
			    var errorCode = error.code;
			    var errorMessage = error.message;
				errBox=document.getElementById("error");
				errBox.display='block';
			    errBox.innerHTML=errorMessage;
			  });
		}
		
		function doEmailLogin()
		{
			email=document.getElementById("inputUsername").value;
			password=document.getElementById("inputPassword").value;
			firebase.auth().signInWithEmailAndPassword(email, password)
			  .then((user) => {
				 document.getElementById("home").href="home.html";
				

				
				
			  })
			  .catch((error) => {
			    var errorCode = error.code;
			    var errorMessage = error.message;
				errBox=document.getElementById("error");
				errBox.display='block';
			    errBox.innerHTML=errorMessage;
			  });
		}
	</script>
  <div class="container">
    <div class="row">
      <div class="col-lg-10 col-xl-9 mx-auto">
        <div class="card card-signin flex-row my-5">
          <div class="card-img-left d-none d-md-flex">
             <!-- Background image for card set in CSS! -->
			  <img style="padding-top: 0px"  width="480" height="400" src="img/Pyradise%20Logo.png">
          </div>
        <div class="card-body">
            <h5 class="card-title text-center">Welcome back !</h5>
            <form class="form-signin">
				<div class="form-label-group">
					<input type="email" id="inputUsername" class="form-control" placeholder="Username"  autofocus>
					<label for="inputUsername">Username</label>
				</div>

				<div class="form-label-group">
					<input type="password" id="inputPassword" class="form-control" placeholder="Password" >
					<label for="inputPassword">Password</label>
				</div>
				<div id="loginForm" class="form-label-group"> 
					<button class="btn btn-lg btn-primary btn-block text-uppercase" type="button" onClick="doEmailLogin();">Log in</button>
					<button id="btnGoogle" class="btn btn-lg btn-google btn-block text-uppercase" type="button" onClick="doGoogle();">
						Sign in with Google 
					</button> 
					<class="d-block text-center mt-2 small" onClick="signupForm();">Sign up</a>
				</div>	
				<div id="signupForm" class="form-label-group d-none">
					<input type="password" id="inputConfirmPassword" class="form-control" placeholder="Password" required>
					<label for="inputConfirmPassword">Confirm password</label>
				<button id="btnRegister" class="btn btn-lg btn-primary btn-block text-uppercase" type="button" onClick="doRegister();">
					Register with Email
				</button> 
				<button id="btnGoogle" class="btn btn-lg btn-google btn-block text-uppercase" type="button" onClick="doGoogle();">
					Register with Google 
					</button> 
				</div>     

						<hr class="my-4">
				<div id="error" class="alert alert-warning alert-dismissible fade show d-none"  role="alert">
					<button type="button" class="close" data-dismiss="alert" aria-label="Close">
					<span aria-hidden="true">&times;</span></button>
				</div>    
			</form>
             
            <footer class="text-center">Copyright &copy; Pyradise 2020</footer>
				<ul class="navbar-nav ml-auto mb-2 mb-lg-0">
                	<li class="nav-item">
                    	<a class="nav-link nav-link-4" href="user-guide.html">User Guide</a>
                	</li>
            	</ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
	  function signupForm()
	  {
		  document.getElementById("signupForm").classList.remove("d-none");
		  document.getElementById("signupForm").classList.add("d-block");
		  document.getElementById("loginForm").classList.remove("d-block");
		  document.getElementById("loginForm").classList.add("d-none");
	  }
  </script>
  <script src="js/login.js"></script>	
</body>